# 03_运算符

## 1.运算符分类

1. 按个数分类

   - 单目运算符

     只需要一个数据，但必须是变量

   - 双目运算符

     需要两个数据，可以是变量，也可以是直接的数据

   - 三元运算符

     需要三个数据才能运算

     格式：条件？true：false

2. 按功能分类

   - 赋值运算符 

     =

   - 算术运算符

     `+ - * /%`

   - 连接运算符

     .

   - 自赋值运算符

     `+= -= *= /= %= .=`

   - 自操作运算符

     `++ --`

   - 比较运算符

     `> < = <= >= == != === !==`

   - 条件运算符

     数据1 ？ 数据2：数据3

   - 位运算符

     `& | ~`

   - 其他

     @ 错误抑制符

     () 括号，用于提升运算优先级，括号内的先运算

## 2.赋值运算符

概念：将等号（=）右边的书赋值给左边的变量

eg：`$v1 = 1;`

**注意：**等号左边，只能是一个变量名



## 3.算数运算符

概念：针对数字进行的算数运算，其中包括:`+ - * / % `

`%`：针对整数数字进行的 **取余操作**，如果不是整数，会先自动转换为整数（去掉小数点后面多余的部分）之后在进行取余。

**注意：**如果进行算数操作的一部分不是数字，会自动转换为数字然后进行操作

eg：

```php
$v1 = 3 + “4”;			//7
$v2 = “3” + “4”;  		//7
$v3 = “3” + “4.5”;  	//7.5
$v4 = 3 + “4abcd”;		//7
$v5 = “3ab”  + “4cd”;	//7
$v6 = 3 + “abc4”;		//3
$v7 = “ab3”  + “cd4”;	// 0 
$v8 = “ab”  + “cd”;	//0
$v9 = 3 + true;			//4		true转为数字，为1
$v10 = 3 + false;		//3		false转为数字，为0
```

## 4.连接运算符

概念：用于连接两个字符串

**注意**：如果不是字符串，会自动转换为字符串

eg：

```php
$v1 = “ab” . “cd”;		//’abcd’
$v2 = $v1 . “ef”;		//’abcdef’
$v3 = “ab” . 12;		//“ab12”
$v4 = 12  .  34;		//”1234”
$v5 = “12”  .  true;	//“121”，true转为字符串，为“1”；
$v6 = “12”  .  false;	//“12”，false转为字符串，为“”（即空字符串）；
```

## 5.自赋值运算符

概念：给自身进行赋值运算

其中，针对数字的包括`+= -= *= /= %=`，针对字符串的只有`.=`

形式：`$变量 += 数据;`，相当于`$变量 = $变量 +数据;`

## 6.自操作运算符

概念：只针对数字进行的`++ --`操作

格式：`$变量++; $变量--`

**注意：**前自加：先自加，后取值；

​			后自加：先取值，后自加；



## 7.比较运算符

概念：针对数字的大小进行比较的运算，如果比较双方不是数字，会自动转化为数字然后进行比较

其中包括`> < = >= <= == != === ==`

**注意：**所有的比较运算符，运算的结果只会是`true`或`false`

==和===的区别：

==：模糊相等

===：全等

## 8.逻辑运算符

概念：针对布尔值进行的运算，包括`&& || ！`

注意：如果不是布尔值，会自动转为布尔值进行运算

1. 逻辑&&（与）

   - true && true		结果为 true

   - true && false		结果为 false

   - false && true 		结果为 false

   - false &&false		结果为 false

2. 逻辑||（或）

   - true || true	结果为 true、
   - true || false	结果为true
   - false || true 	结果为 true
   - false ||false	结果为 false

3. 逻辑！（非）

   - !true  	结果为false
   - !false	结果为true

逻辑运算的短路规则：

概念：就是对于“逻辑与” 或 “逻辑或”这两种运算符，他们可能会只进行左侧的逻辑判断之后，立即就中断后续（右侧）的判断，而得出整个逻辑运算符的运算结果！

- 逻辑（与）的短路：

  if ( 左侧判断 &&  右侧判断 )		//此时，如果左侧判断为false，则右侧判断不再进行

- 逻辑（或）的短路：

  if ( 左侧判断 ||  右侧判断 )		//此时，如果左侧判断为true，则右侧判断不再进行

**结论：**我们应该将我们可能发生短路运算的逻辑判断的前后判断语句，做如下调整：

相对简单的运算放前面（左侧），相对复杂的运算放后面（右侧）。

对于逻辑或的短路运算，道理一样。



## 9.条件运算符

格式：`表达式1 ？ 表达式2 ：表达式3`

## 10.位运算

针对整数进行的二进制级别的运算。

基本位运算符包括：按位与（ & ），  按位或（ | ），  按位非（ ~ ），  按位异或（^）

位运算的基本规则：

​	只针对二进制的0和1这两个数据的基本位运算规则

- 按位与（&）运算规则：

  ​	0 & 1 结果为：0

  ​	0 & 0 结果为：0

  ​	1 & 0 结果为：0

  ​	1 & 1 结果为：1

  ​	结论：只有两个都是1，按位与运算结果才是1

- 按位或（|）运算规则：

  ​	0 | 1 结果为：1

  ​	0 | 0 结果为：0

  ​	1 | 0 结果为：1

  ​	1 | 1 结果为：1

  ​	结论：只有两个都是0，按位或运算结果才是0

- 按位非（~）：

  ~1结果为0

  ~0结果为1

- 按位异或（^）：

  0 ^ 1 结果为：1

  0 ^ 0 结果为：0

  1 ^ 0 结果为：1

  1 ^ 1 结果为：0

  规则是：相同为0，不同为1

### 10.1 整数的按位与（&）运算

含义：

​	是针对整数的二进制值进行的位运算结果。

​	将两个整数的二进制值的每一个对应位上的二进制数字进行对应的按位与运算

eg:

$v1 = 6 & 8;	//这里，虽然是普通整数，但其内部是按该整数的二进制形式进行位运算

运算规则：

将6和8的二进制数字的每一个对应位上的数字（0或1)进行基本的按位与（&）的运算所得到的结果。

| 数字6的二进制 | 0    | 0    | 0    | 0    | 0    | 1    | 1    | 0    |
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 数字8的二进制 | 0    | 0    | 0    | 0    | 1    | 0    | 0    | 0    |
| 按位与结果    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |

结果：0



### 10.2按位左移运算

$v1 = 8 << 2;	//8是要进行左移运算的整数，2是表示要进行移动的位数。

含义：

将8这个数的二进制形式的数字的所有位都往左边移动2位，最右边空出部分填0（补0），最左边部分就会有2位“冒出去”了，也不要处理（不管），这样移动后，所得到的二进制数就是结果。

分析如下：

| 8的二进制    | 0    | 0    | 0    | 0    | 1    | 0    | 0    | 0    |
| ------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 左移两位后： | 0    | 0    | 1    | 0    | 0    | 0    | 0    | 0    |

结果：1*25 = 32

总结：将一个整数左移n位，就是相当于将该数乘以2的n次方。

## 11.错误抑制符

概念：在一个表达式出现错误的时候，可以将错误“隐藏”（掩盖）起来（不输出）！

eg：

```php
if(  @mysqli_connect(‘localhost’,  ‘root’, ‘123’ )  ){
.......
}
```

## 12.运算符的优先级

1. 小括号可以改变运算的顺序（即括号最优先）
2. 先乘除（以及取余）后加减；
3. 大致有如此优先级规则：算术运算 > 比较运算 > 逻辑运算
4. 赋值运算符通常都是最后（优先级最低）