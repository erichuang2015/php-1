# 02_常量和数据类型

## 1.常量

### 1.1常量的含义

常量，用于存储不会变化的数据的标识符

### 1.2 常量的两种定义形式

1. define

   格式：

   ```php
   define("常量名"，对应常量值);
   ```

2. const

   格式：

   ```php
   const 常量名 = 对应常量值;
   ```

注意：常量名推荐使用全大写

### 1.3常量的两种取值方式

1. 直接使用

   eg：

   ```php
   echo 常量名;
   ```

   注意：使用常量前面不带$符，也不能带引号

2. 使用constant()函数取值

   eg:

   ```php
   echo constant("常量名");
   ```

   注意：此时常量名要用引号引起来，且同样不能带$符号

### 1.4 变量与常量区别：

1. 变量的数据可以变化（重新赋值），而常量不可以

2. 变量可以存储各种数据类型，而常量只能存储简单数据类型

3. 给变量赋值可以是**计算结果**但给常量赋值，只能是**直接写出的值**(字面值)

   eg：

   ```php
   $v1 = 1+2;//正确
   const PI = 1+2;//错误
   ```

### 1.5判断常量是否存在：defined（）

判断返回结果为布尔值

eg：

```php
if(defined("常量名")){

}
```



### 1.6预定义常量

解释：预定义常量就是可以直接使用的常量

常用预定义常量：

```php
PHP_VERSION：	表示当前php的版本信息
PHP_OS：			表示当前php运行所在的系统信息
PHP_INT_MAX：	表示当前版本的php中的最大的整数值
M_PI： 			表示圆周率π（一个有10多位小数的数）
```

### 1.7几个魔术常量

含义：魔术常量也是常量，只是在形式上为常量，而其值其实是**变化**的

常用魔术常量：

```php
__DIR__			：代表当前php网页文件所在的目录
__FILE__		：代表当前php网页文件本身的路径
__LINE__ 	  	：代表当前这个常量所在的行号
```



## 2.数据类型

### 2.1数据类型分类

1. 标量类型：

   - **字符串类型**：string
   - **整数类型**：integer， int
   - **浮点数**： double，float 
   - **布尔类型**： boolean， bool

2. 复合类型：

   就是“数组”（array）和“对象”（object）两种。

3. 特殊类型：

   - 空类型null： 有且只有一个数据可以使用，那就是null
   - 资源类型resource：表示一种外部的可供php使用（操作）的资源（比如图片，数据库，文件等）

### 2.2 整型integer/int

1. 四种书写形式

   ```php
   //10进制形式：
   $n1 = 123;
   //8进制形式：
   $n1 = 0123;			//以0开头，只能出现0-7这8个数字
   //16进制形式：
   $n1 = 0x12A34;		//以0x开头，可以出现0-9，A-F这16个数字		
   //2进制形式：
   $n1 = 0b1011011010;	//以0b开头，只能出现0和1这2个数字
   
   ```

2. 进制的相互转换

   - 10进制转为2, 8, 16进制

     ```php
     decbin()：将10进制转为2进制
     
     decoct()：将10进制转为8进制
     
     dechex()：将10进制转为16进制
     ```

   - 2, 8, 16进制转为10进制：

     ```php
     bindec()：将2进制数字字符串转为10进制
     octdec()：将8进制数字字符串转为10进制
     hexdec()：将16进制数字字符串转为10进制
     ```

   

### 2.3 浮点型double/float

1. 常规形式（带小数点）：

   ```php
   $f1 = 0.1;			//或者1.23;   123.0;
   ```

2. 科学计数法形式（带e）：

   ```php
   $f2 = 1.23e3;		//表示1.23 乘以10的3次方
   $f3 = 123e2;		//这个也是浮点数，虽然其结果值是一个“整数”（12300）
   ```

### 2.4 布尔型boolean

只有两个数据值： true，  false（不区分大小写）

以下数据会被当做false处理：

```php
false,  0,  0.0,  “”,   null,  ‘0’,  空数组
```

### 2.5字符串型string

可以使用单引号或双引号来表示（引起来）。

**特别注意**：

双引号字符串中，如果出现“$”符号，则该符号后的连续字符（单词）会被识别为一个变量名。

如果识别成功（即确实存在该变量），则会将该变量转换为实际内容。

如果识别失败（即实际没有该变量），则会报错。

### 2.6数组类型array

数组，就是将多个“数据”放在一起，排成一个有序序列，这个序列作为一个整体（里面包括了多个数据）

eg：

```php
$info1  =  array(‘张三丰’,  18,  “男” );		
//新版本中，还可以这样写： [‘张三丰’,  18,  “男” ]
或：
$info2  =  array(‘name’ => ‘张三丰’,  ‘age’=>18,  ‘gender’ => “男” );
//新版本中，还可以这样写： [‘name’ => ‘张三丰’,  ‘age’=>18,  ‘gender’ => “男” ]
```

数组的赋值与取值

```php
数组的赋值：
$数组变量[下标] = 一个值；
数组的取值：
形式为：$数组变量[下标]
比如： echo  $info1[0];		print_r( $info2[‘name’] )；
```

### 2.7 空类型null

只有一个值： null（不区分大小写）。

## 3 类型判断

1. gettype()： 获取一个变量的类型，结果为一个变量类型的名称（字符串）

   ```php
   $v1 = 10;
   $r1 = gettype( $v1 );	//结果为：“integer”
   ```

2. settype()： 设置一个变量的类型

   ```php
   $v1 = 10;		//此时，$v1中数据是整数类型
   settype( $v1,  ‘string’);	//此时，$v1是字符串类型，即其中的数据变成了：“10”
   echo  gettype( $v1 );	//”string”
   ```

3. var_dump()： 输出变量的“完整信息”，包括变量类型，长度，内容

4. 判断是否为某种类型（类型系列函数）：  

   ```php
   is_int() / is_integer()：判断是否为整数类型
   is_float()：判断是否为浮点类型
   is_bool()：判断是否为布尔类型
   is_string()：。。。
   is_array()：。。。
   is_numeric()：判断是否为“数字”类型（含整数，小数，以及“纯数字字符串”）
   is_object()：
   ```

5. 特殊判断：

   - isset()：	判断一个变量是否存在，或变量中是否有数据，有则返回true，否则返回false。
   - empty()：判断是否为“空的”。如果确实是“空的”，返回true，否则返回false。

## 4 自动转换

1. 典型自动转换：

   ```php
   转换为数字：
   1+”2”			//3
   “1” + “2”			//3
   1 + ”2abc”		//3
   1 + ”2abc34”		//3
   1 + “abc”			//1
   1 + “abc2”		//1
   1.2 + “2”			//3.2
   1.2 + “2.2abc”		//3.4
   1.2 + “abc2.2”		//1.2
   “1.2abc” + 2		//3.2
   “1.2abc” + “2abc”	//3.2
   ```

   **规律：**一个字符串当做数字，就会将该字符串的最前面的数字转换为数字值，如果没有，就为0

   转换为整数（直接保留整数部分）

2. 强制转换：

   ```php
   $v1 = (int) “1”;	//结果，$v1是整数类型的1
   $v2 = (float)  “1.23”;	//结果，$v2是浮点类型的1.23
   $v3 = (string) $v1;	//结果，$v3是字符串“1”
   ```

   